# 自动大语种（中英日韩）识别与双向会话扩展设计

版本：v2.1  
适用范围：调度服务器、第三方节点（PC）、移动端客户端  
最后更新：2025-12-12

**实施状态**：✅ **核心功能已完成并测试**

---

## 📋 文档导航

本文档已拆分为多个子文档以便阅读：

- **[设计概述与需求分析](./AUTO_LANGUAGE_DETECTION_OVERVIEW.md)** - 功能概述、需求分析、架构改动总览
- **[实现设计详情](./AUTO_LANGUAGE_DETECTION_IMPLEMENTATION.md)** - 详细实现设计、客户端改动、调度服务器改动
- **[模型选型与实施计划](./AUTO_LANGUAGE_DETECTION_PLANNING.md)** - 模型选型建议、实施计划、风险评估

---

## 快速开始

### 功能概述

本设计文档补充当前系统的核心能力：  
**自动识别输入语音属于中文 / 英文 / 日文 / 韩文（大语种识别），并根据识别结果自动选择翻译方向。**

同时满足以下特殊使用场景：

- **老年人只会说方言** → 输入只需归类到"中文"，不需要识别具体方言。  
- **双向实时会话** → 对话双方可随时切换说中文或英文，系统自动判断并翻译成对方语言。  
- **方言只影响输入，不影响输出** → 输出始终使用目标语的官方语言 TTS（普通话、标准英文、标准日文、标准韩文）。

### 实施状态

✅ **核心功能已完成并测试**：
- ✅ LanguageDetector 模块实现
- ✅ 消息协议扩展
- ✅ 推理流程修改
- ✅ 单元测试（7个测试，全部通过）
- ✅ Web 客户端 UI 支持（双向模式）
- ✅ 双向模式单元测试（14个测试，全部通过）

详细内容请参考子文档。

---

## 相关文档

- [设计概述与需求分析](./AUTO_LANGUAGE_DETECTION_OVERVIEW.md)
- [实现设计详情](./AUTO_LANGUAGE_DETECTION_IMPLEMENTATION.md)
- [模型选型与实施计划](./AUTO_LANGUAGE_DETECTION_PLANNING.md)
- [面对面模式功能文档](../webClient/FACE_TO_FACE_MODE.md)
- [节点推理服务文档](./README.md)
