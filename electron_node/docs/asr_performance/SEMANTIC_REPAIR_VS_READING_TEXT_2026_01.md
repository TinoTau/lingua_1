# 语义修复结果 vs 阅读文本对照 · 质量改进建议

**来源**: 集成测试报告 + 日志 `repairedText`（Session s-4FDD9106）

---

## 阅读文本（参考稿，5 段）

1. **现在我们开始进行一次语音识别稳定性测试。**
2. **我会先读一两句比较短的话，用来确认系统不会在句子之间随意地把语音切断，或者在没有必要的时候提前结束本次识别。**
3. **接下来这一句我会尽量连续地说得长一些，中间只保留自然的呼吸节奏，不做刻意的停顿，看看在超过十秒钟之后，系统会不会因为超时或者静音判定而强行把这句话截断，从而导致前半句和后半句在节点端被拆成两个不同的 job，甚至出现语义上不完整、读起来前后不连贯的情况。**
4. **如果这次的长句能够被完整地识别出来，而且不会出现半句话被提前发送或者直接丢失的现象，那就说明我们当前的切分策略和超时规则是基本可用的。**
5. **否则，我们还需要继续分析日志，找出到底是在哪一个环节把我的语音吃掉了。**

---

## 语义修复结果列表（实际）

| utterance_index | 输入（ASR/聚合） | 语义修复输出（repairedText） | decision | textChanged |
|-----------------|------------------|------------------------------|----------|-------------|
| 0 | 開始進行一次語音識別穩定的測試 | 開始進行一次語音識別穩定的測試 | PASS | **false** |
| 1 | 我回鄉讀音量 一两句比较短的话用来确认系统不会在句子之间随意的把语音切断或者再没有 | 我回鄉讀音量 一两句比较短的话用来确认系统不会在句子之间随意的把语音切断或者再没有 | PASS | **false** |
| 2 | 不必要的时候提前结束本次识别 | 不必要的时候提前结束本次识别 | PASS | **false** |
| 3 | 接下来做一 我会尽量的连续地说的尝一些中间只保留自然的呼吸节奏不做刻意的停盾看看在超过 | 接下来做一 我会尽量的连续地说的尝一些中间只保留自然的呼吸节奏不做刻意的停盾看看在超过 | PASS | **false** |
| 4 | 20秒钟之后系统会不会因为超时获得精英判定而相信把这句话阶段从而导致前 | 20秒钟之后系统会不会因为超时获得精英判定而相信把这句话阶段从而导致前 | PASS | **false** |
| 5 | 两半句和后半句在阶点端被拆成两个不同的任务甚至出现于 与以上不完整都起来将奥布连贯的情况 | 两半句和后半句在阶点端被拆成两个不同的任务甚至出现于 与以上不完整都起来将奥布连贯的情况 | PASS | **false** |
| 6 | (空，低质量拒识) | — | — | — |
| 7 | 这次的长距能够被完整的识别出来而且不会出现半句话被提前发送或者直接丢失的现象那就说明我 | 这次的长距能够被完整的识别出来而且不会出现半句话被提前发送或者直接丢失的现象那就说明我 | PASS | **false** |
| 8 | 我们当前的切分策略和超市规则是基本可用的 | 我们当前的切分策略和超市规则是基本可用的 | PASS | **false** |
| 9 | 说则我们 还是要继续分析日治找出到底是在哪一个环节把我的语音给吃掉了 | 说则我们 还是要继续分析日治找出到底是在哪一个环节把我的语音给吃掉了 | PASS | **false** |
| 10、11 | (空，低质量拒识) | — | — | — |

**结论**：本次测试中**所有走语义修复的 Job 均为 PASS 且 textChanged=false**，即**未做任何纠错**，repairedText 与 ASR/聚合原文完全一致。

---

## 逐句对照与问题

| 参考句（阅读文本） | 语义修复输出（实际） | 问题类型 | 建议修复方向 |
|-------------------|----------------------|----------|--------------|
| 现在我们**开始**进行一次**语音识别**稳定性测试。 | **開始**進行一次**語音識別**穩定的測試 | 缺「现在」「我们」；繁简混用 | 补全主语/时间；统一简繁或做简繁归一 |
| 我**会先读一两句**比较短的话，用来确认…**或者在没有**必要的时候提前结束本次识别。 | 我**回乡读音量** 一两句比较短的话用来确认…**或者再没有** | **同音错误**：会先读一两句→回乡读音量；在没有→再没有 | 同音纠错/置信度低时替换（读一两句/回乡读音量）；「再没有」→「在没有」 |
| …在没有**必要**的时候**提前结束本次识别**。 | 不**必要**的时候**提前结束本次识别**。 | 缺「在」；其余一致 | 轻量补词或保持 |
| 接下来**这一句**我会尽量**连续地说得长一些**，…**自然的呼吸**节奏，**不做刻意的停顿**，…**十秒钟**之后，…**超时或者静音**判定而**强行**把这句话**截断**，…**前半句和后半句**在**节点**端被**拆成**两个不同的**job**，…**语义上不完整、读起来前后不连贯**。 | 接下来**做一** 我会尽量的**连续地说的尝一些**中间只保留自然的**呼吸**节奏**不做刻意的停盾**看看在超过 … **精英判定而相信**把这句话**阶段**从而导致**前** … **两半句和后半句**在**阶点**端被**拆成**两个不同的**任务**甚至出现于 与**以上不完整都起来将奥布连贯**的情况 | **同音/近形**：这一句→做一；说得长一些→说的尝一些；停顿→停盾；十秒/静音→精英/相信；截断→阶段；前半句→两半句；节点→阶点；语义不完整、前后不连贯→以上不完整都起来将奥布连贯 | 同音词表：句/做一、顿/盾、静音/精英、截断/阶段、前半/两半、节点/阶点；长句语义模板约束「不完整、不连贯」 |
| **20秒钟之后**系统会不会因为**超时**…**静音**判定而**强行**把这句话**截断**，从而**导致前半句和后半句**… | **20秒钟之后**系统会不会因为**超时**获得**精英**判定而**相信**把这句话**阶段**从而**导致前** | 同音：静音→精英；截断→阶段；导致前半句和后半句→导致前（后半丢失） | 同上；断句/长度导致后半丢失需从 ASR/聚合侧看 |
| **前半句和后半句**在**节点**端被拆成两个不同的**job**，…**语义上不完整、读起来前后不连贯**的情况。 | **两半句和后半句**在**阶点**端被拆成两个不同的**任务**甚至出现于 与**以上不完整都起来将奥布连贯**的情况 | 同上 | 同上 |
| **如果**这次**的长句**能够被完整地识别出来…**那就说明我们**当前的切分策略和**超时**规则… | **这次的长距**能够被完整的识别出来…**那就说明我** … **超市**规则… | **同音**：长句→长距；我们→我；超时→超市；且句尾被截断 | 长句/长距、我们/我、超时/超市 同音纠错；截断问题需上游 |
| **否则**，我们**还需要**继续分析**日志**，找出…把我的语音**吃掉了**。 | **说则我们** **还是要**继续分析**日治**找出…把我的语音**给吃掉了**。 | **同音**：否则→说则；还需要→还是要；日志→日治；吃掉了→给吃掉了 | 否则/说则、日志/日治 同音纠错；「给吃掉了」可接受 |

---

## 如何提高语义修复质量

### 1. 当前现象

- 语义修复在本轮测试中**全部 PASS、无修改**，ASR 同音/近形错误（回乡读音量、停盾、精英、阶段、阶点、超市、日治等）**未得到纠正**，直接进入 NMT，导致翻译错误。

### 2. 改进方向（建议）

| 方向 | 说明 |
|------|------|
| **同音/近形纠错** | 在语义修复阶段（或前处理）增加**领域同音词表**：长句/长距、超时/超市、静音/精英、截断/阶段、节点/阶点、日志/日治、停顿/停盾、前半句/两半句、否则/说则、会先读一两句/回乡读音量、在没有/再没有。对 ASR 置信度较低或与参考词编辑距离近的片段做替换或候选重排。 |
| **简繁与缺词** | 参考稿为简体，ASR 出现繁体（開始、語音識別）；首句缺「现在我们」。可做：统一输出简体，或对首句/主语做简单补全规则。 |
| **语义/句式约束** | 对「不完整、不连贯」等固定表述，用模板或小模型约束「语义上不完整、读起来前后不连贯」类输出，减少「以上不完整都起来将奥布连贯」等乱序。 |
| **PASS 阈值** | 当前疑似「几乎全部 PASS」。可考虑：对与参考词表匹配到同音错误的片段**强制进入 REPAIR** 或提高 REPAIR 触发率，避免高错误率句整句 PASS。 |
| **评估与回归** | 用「阅读文本 vs 语义修复输出」做回归集：同音纠错数、编辑距离、是否改错等，便于后续调参和模型/规则迭代。 |

### 3. 优先建议

1. **先上同音词表**（超时/超市、长句/长距、日志/日治、静音/精英、截断/阶段、节点/阶点、否则/说则等），在语义修复或前处理中做一次替换/候选，看翻译与阅读文本对齐度是否明显提升。  
2. **再查 PASS 判定逻辑**：为何本批全部 PASS；是否引入「与领域词表冲突则 REPAIR」或置信度阈值。  
3. **长句与截断**：后半句丢失（如「导致前」、「那就说明我」）需结合 ASR/聚合切句与长度限制一起看，语义修复可做补全或标记，但根因多在上游。

以上对照与建议已按「语义修复结果列表 vs 阅读文本」整理，可直接用于语义修复质量迭代与验收。
