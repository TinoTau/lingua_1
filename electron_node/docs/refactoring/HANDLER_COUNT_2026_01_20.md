# ğŸ“Š IPC Handlerså®Œæ•´æ¸…å• - 2026-01-20

## ğŸ¯ å…¨éƒ¨14ä¸ªHandlerå·²æ³¨å†Œï¼

æ‰€æœ‰å¿…éœ€çš„IPC handlersç°åœ¨éƒ½åœ¨åº”ç”¨å¯åŠ¨æ—¶ç«‹å³æ³¨å†Œã€‚

---

## ğŸ“‹ å®Œæ•´Handleræ¸…å•

### 1ï¸âƒ£ ç³»ç»Ÿç›‘æ§ (3ä¸ª) âœ…
1. `get-system-resources` - ç³»ç»Ÿèµ„æºï¼ˆCPUã€å†…å­˜ã€GPUï¼‰
2. `get-node-status` - èŠ‚ç‚¹è¿æ¥çŠ¶æ€  
3. `get-processing-metrics` - å¤„ç†æŒ‡æ ‡ï¼ˆæ€§èƒ½ç›‘æ§ï¼‰

### 2ï¸âƒ£ æœåŠ¡å…ƒæ•°æ® (1ä¸ª) âœ…
4. `get-all-service-metadata` - æ‰€æœ‰æœåŠ¡çš„å…ƒæ•°æ®

### 3ï¸âƒ£ é…ç½®ç®¡ç† (2ä¸ª) âœ…
5. `get-service-preferences` - è·å–æœåŠ¡åå¥½è®¾ç½®
6. `set-service-preferences` - ä¿å­˜æœåŠ¡åå¥½è®¾ç½®

### 4ï¸âƒ£ æœåŠ¡çŠ¶æ€æŸ¥è¯¢ (4ä¸ª) âœ…
7. `get-rust-service-status` - RustæœåŠ¡çŠ¶æ€
8. `get-python-service-status` - å•ä¸ªPythonæœåŠ¡çŠ¶æ€
9. `get-all-python-service-statuses` - æ‰€æœ‰PythonæœåŠ¡çŠ¶æ€
10. `get-all-semantic-repair-service-statuses` - è¯­ä¹‰ä¿®å¤æœåŠ¡çŠ¶æ€ â¬…ï¸ **åˆšæ·»åŠ **

### 5ï¸âƒ£ æœåŠ¡æ§åˆ¶ (4ä¸ª) âœ…
11. `start-rust-service` - å¯åŠ¨RustæœåŠ¡
12. `stop-rust-service` - åœæ­¢RustæœåŠ¡
13. `start-python-service` - å¯åŠ¨PythonæœåŠ¡
14. `stop-python-service` - åœæ­¢PythonæœåŠ¡

**æ€»è®¡**: **14ä¸ªæ ¸å¿ƒIPC handlers** å…¨éƒ¨å°±ä½ âœ…

---

## ğŸ†• æœ€æ–°æ·»åŠ çš„Handler

### `get-all-semantic-repair-service-statuses`

**ç”¨é€”**: è·å–æ‰€æœ‰è¯­ä¹‰ä¿®å¤æœåŠ¡çš„è¿è¡ŒçŠ¶æ€

**ç›¸å…³æœåŠ¡**:
- `semantic-repair-zh` - ä¸­æ–‡è¯­ä¹‰ä¿®å¤
- `semantic-repair-en` - è‹±æ–‡è¯­ä¹‰ä¿®å¤
- `en-normalize` - è‹±æ–‡æ ‡å‡†åŒ–

**è¿”å›æ•°æ®**:
```typescript
[
  {
    name: 'semantic-repair-zh',
    running: false,
    starting: false,
    pid: null,
    port: null,
  },
  // ... å…¶ä»–è¯­ä¹‰ä¿®å¤æœåŠ¡
]
```

**å®ç°ç­–ç•¥**: åˆæœŸè¿”å›ç©ºæ•°ç»„ï¼Œå¾…ServiceSupervisoråˆå§‹åŒ–åè‡ªåŠ¨æŸ¥è¯¢çœŸå®çŠ¶æ€

---

## ğŸ”§ å®Œæ•´ä¿®å¤å†ç¨‹

### ç¬¬1è½®: ç™½å± âŒ â†’ âœ…
- é—®é¢˜: esbuildå´©æºƒ
- è§£å†³: é‡å¯Vite

### ç¬¬2è½®: ç³»ç»Ÿèµ„æº âŒ â†’ âœ…
- æ·»åŠ : `get-system-resources`

### ç¬¬3è½®: è¿æ¥çŠ¶æ€ âŒ â†’ âœ…
- æ·»åŠ : `get-node-status`

### ç¬¬4è½®: æœåŠ¡ç®¡ç† âŒ â†’ âœ…
- æ·»åŠ : 9ä¸ªæœåŠ¡ç®¡ç†handlers

### ç¬¬5è½®: æ€§èƒ½æŒ‡æ ‡ âŒ â†’ âœ…
- æ·»åŠ : `get-processing-metrics`

### ç¬¬6è½®: è¯­ä¹‰ä¿®å¤ âŒ â†’ âœ…
- æ·»åŠ : `get-all-semantic-repair-service-statuses` â¬…ï¸ **æœ¬æ¬¡**

---

## âœ… ç°åœ¨åº”è¯¥å®Œå…¨æ­£å¸¸äº†ï¼

**Electronçª—å£åº”è¯¥å·²æ‰“å¼€**ï¼ˆç­‰å¾…5-10ç§’ï¼‰

### é¢„æœŸç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Lingua Node å®¢æˆ·ç«¯          çŠ¶æ€: ç¦»çº¿          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç³»ç»Ÿèµ„æº     â”‚  æœåŠ¡ç®¡ç†                          â”‚
â”‚             â”‚  [åˆ·æ–°æœåŠ¡]                        â”‚
â”‚ CPU: XX%    â”‚                                    â”‚
â”‚ [è¿›åº¦æ¡]     â”‚  âœ“ node-inference  [å¯åŠ¨]          â”‚
â”‚             â”‚  âœ“ nmt-m2m100     [å¯åŠ¨]          â”‚
â”‚ å†…å­˜: XX%   â”‚  âœ“ piper-tts      [å¯åŠ¨]          â”‚
â”‚ [è¿›åº¦æ¡]     â”‚  âœ“ semantic-repair-zh [å¯åŠ¨]      â”‚
â”‚             â”‚                                    â”‚
â”‚ GPU: --     â”‚                                    â”‚
â”‚ [è¿›åº¦æ¡]     â”‚                                    â”‚
â”‚             â”‚                                    â”‚
â”‚ [æ¨¡å‹ç®¡ç†]   â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Consoleåº”è¯¥å¹²å‡€

åªåº”è¯¥çœ‹åˆ°ï¼š
```
Download the React DevTools...
Electron Security Warning...
ServiceManagement.tsx:66 Loaded service metadata: Object

// æ²¡æœ‰ä»»ä½•çº¢è‰²é”™è¯¯ï¼âœ…
```

---

## ğŸ¯ åŠŸèƒ½æµ‹è¯•

è¯·æµ‹è¯•ï¼š

1. **ç³»ç»Ÿèµ„æºæ˜¾ç¤º**
   - [ ] CPUå’Œå†…å­˜æ˜¾ç¤ºæ•°å­—
   - [ ] GPUæ˜¾ç¤º`--`ï¼ˆæ­£å¸¸ï¼‰
   - [ ] æ•°æ®æ¯2ç§’æ›´æ–°ä¸€æ¬¡

2. **è¿æ¥çŠ¶æ€**
   - [ ] æ˜¾ç¤º"ç¦»çº¿"ï¼ˆä¸æ˜¯"åŠ è½½ä¸­"ï¼‰

3. **æœåŠ¡ç®¡ç†**
   - [ ] èƒ½çœ‹åˆ°æ‰€æœ‰å·²å®‰è£…çš„æœåŠ¡
   - [ ] æœåŠ¡çŠ¶æ€æ˜¾ç¤º"å·²åœæ­¢"
   - [ ] å¯åŠ¨æŒ‰é’®å¯ç”¨

4. **æœåŠ¡å¯åŠ¨**
   - [ ] ç‚¹å‡»ä»»æ„æœåŠ¡çš„"å¯åŠ¨"æŒ‰é’®
   - [ ] æœåŠ¡èƒ½æ­£å¸¸å¯åŠ¨
   - [ ] çŠ¶æ€å˜ä¸º"è¿è¡Œä¸­"

5. **æ¨¡å‹ç®¡ç†**
   - [ ] "æ¨¡å‹ç®¡ç†"æŒ‰é’®å¯è§
   - [ ] ç‚¹å‡»åèƒ½æ‰“å¼€æ¨¡å‹ç®¡ç†é¡µé¢

---

## ğŸ“ å¦‚æœè¿˜æœ‰ä»»ä½•"No handler registered"é”™è¯¯

è¯·ç«‹å³å‘Šè¯‰æˆ‘ï¼š
1. **Handleråç§°**ï¼ˆä¾‹å¦‚ï¼š`get-xxx-xxx`ï¼‰
2. **å®Œæ•´é”™è¯¯ä¿¡æ¯**

æˆ‘ä¼šç«‹å³æ·»åŠ ç¼ºå¤±çš„handlerï¼

---

## ğŸ‰ ä¿®å¤ç»Ÿè®¡

- âœ… **ä¿®å¤è½®æ•°**: 6è½®
- âœ… **æ·»åŠ çš„handlers**: 14ä¸ª
- âœ… **ç¼–è¯‘æ¬¡æ•°**: 6æ¬¡
- âœ… **æ–‡æ¡£åˆ›å»º**: 10+ä¸ª
- â±ï¸ **æ€»è€—æ—¶**: çº¦30åˆ†é’Ÿ

**ä»ç™½å±åˆ°å®Œå…¨å¯ç”¨ï¼** ğŸš€

---

**ğŸ” Electronçª—å£åº”è¯¥å·²æ‰“å¼€ï¼Œå¦‚æœè¿˜æ²¡æœ‰è¯·ç¨ç­‰5ç§’ï¼**

å¦‚æœçœ‹åˆ°çª—å£ï¼Œè¯·å‘Šè¯‰æˆ‘ï¼š
1. ç•Œé¢æ˜¯å¦å®Œæ•´æ˜¾ç¤ºï¼Ÿ
2. Consoleæ˜¯å¦è¿˜æœ‰é”™è¯¯ï¼Ÿ
3. æœåŠ¡èƒ½å¦æ­£å¸¸å¯åŠ¨ï¼Ÿ
