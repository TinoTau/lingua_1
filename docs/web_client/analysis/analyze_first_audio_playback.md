# 第一段音频播放问题分析

## 第一段音频信息
- **utterance_index**: 0
- **tts_audio_len**: 124,988 字节
- **估算时长**: 2.93 秒
- **最大缓存时长**: 25 秒
- **80% 阈值（自动播放触发）**: 20.0 秒

## 自动播放触发条件

### 1. 大音频自动播放（添加前触发）
- **条件**: `(currentDuration + estimatedDuration) > maxBufferDuration` (25秒)
- **第一段音频**: 2.93秒 < 25秒 ❌ **不会触发**

### 2. 内存压力自动播放
- **条件**: 内存压力 >= 80% (critical) 且状态为 `INPUT_RECORDING`
- **80% 阈值**: 25秒 × 0.8 = 20秒
- **第一段音频**: 2.93秒 < 20秒 ❌ **不会触发**

## 结论

**第一段音频不会自动播放的原因：**
1. ✅ 音频太短（2.93秒），不会触发"大音频"自动播放
2. ✅ 音频太短（2.93秒），不会导致内存压力达到80%阈值
3. ✅ 需要用户**手动点击播放按钮**才能播放

## 当前播放逻辑

根据代码逻辑：
- 音频添加成功后，会触发 `notifyTtsAudioAvailable()` 更新UI
- 播放按钮会在 `INPUT_RECORDING` 状态下启用
- 但**不会自动播放**，需要用户手动点击

## 建议

如果希望第一段音频自动播放，可以：
1. 修改逻辑：第一段音频（utterance_index === 0）自动播放
2. 或者：当缓冲区只有一段音频时自动播放
3. 或者：降低自动播放的内存压力阈值

