# é›†æˆæµ‹è¯•å¤±è´¥è¯Šæ–­æŠ¥å‘Š

**æ—¥æœŸ**: 2026-01-21 01:25  
**é—®é¢˜**: é›†æˆæµ‹è¯•æ— è¿”å›ç»“æœ  
**æ ¹å› **: ğŸ”´ **æœåŠ¡æœªæ­£å¸¸è¿è¡Œ**

---

## ğŸ” é—®é¢˜è¯Šæ–­

### 1. ASRæœåŠ¡çŠ¶æ€

**æ£€æŸ¥ç»“æœ**:
```
âœ… æ—¥å¿—æ˜¾ç¤ºæœåŠ¡å·²å¯åŠ¨ï¼ˆ00:54:08ï¼‰
âœ… ASR Workerè¿›ç¨‹readyï¼ˆ00:54:35ï¼‰
âŒ ç«¯å£6007æ— æ³•è¿æ¥
âŒ æµ‹è¯•è¶…æ—¶ï¼šTCP connect to 127.0.0.1:6007 failed
```

**ç»“è®º**: ASRæœåŠ¡è¿›ç¨‹å¯èƒ½å·²å¯åŠ¨ï¼Œä½†**ç«¯å£æœªç›‘å¬**æˆ–**æœåŠ¡å·²å´©æºƒ**

---

### 2. Webç«¯çŠ¶æ€

**æ£€æŸ¥ç»“æœ**:
```
âŒ ç«¯å£3000æ— æ³•è¿æ¥
âŒ æµ‹è¯•è¶…æ—¶ï¼šTCP connect to 127.0.0.1:3000 failed
```

**ç»“è®º**: Webç«¯**æœªå¯åŠ¨**

---

### 3. èŠ‚ç‚¹ç«¯çŠ¶æ€

**æ£€æŸ¥ç»“æœ**:
```
âŒ æ— Electronè¿›ç¨‹è¿è¡Œ
âŒ æ— Node.jsè¿›ç¨‹è¿è¡Œ
âŒ æ— æœ€æ–°çš„èŠ‚ç‚¹ç«¯æ—¥å¿—
```

**ç»“è®º**: èŠ‚ç‚¹ç«¯**æœªå¯åŠ¨**

---

## ğŸ’¡ å¯èƒ½çš„åŸå› 

### åŸå› 1: æˆ‘ä¿®æ”¹çš„cleanupä»£ç å¯¼è‡´æœåŠ¡å¯åŠ¨å¤±è´¥

**ä¿®æ”¹å†…å®¹**: `faster_whisper_vad_service.py`æ·»åŠ äº†cleanupé€»è¾‘

**å¯èƒ½çš„é—®é¢˜**:
- å¾ªç¯å¯¼å…¥é—®é¢˜ï¼ˆ`from api_routes import get_asr_worker_manager`ï¼‰
- asyncioäº‹ä»¶å¾ªç¯å†²çª
- æœåŠ¡å¯åŠ¨æ—¶è§¦å‘äº†cleanupé€»è¾‘

**éªŒè¯æ–¹æ³•**:
```powershell
# æŸ¥çœ‹å®Œæ•´çš„ASRæœåŠ¡æ—¥å¿—
Get-Content "d:\Programs\github\lingua_1\electron_node\services\faster_whisper_vad\logs\faster-whisper-vad-service.log" | Select-Object -Last 200
```

---

### åŸå› 2: uvicornå¯åŠ¨å¤±è´¥

**å¯èƒ½çš„é—®é¢˜**:
- ç«¯å£6007è¢«å ç”¨
- uvicorné…ç½®é—®é¢˜
- FastAPIåº”ç”¨åˆå§‹åŒ–å¤±è´¥

---

### åŸå› 3: èŠ‚ç‚¹ç«¯æ ¹æœ¬æ²¡æœ‰å¯åŠ¨

**å¦‚æœæ‚¨æ²¡æœ‰å¯åŠ¨èŠ‚ç‚¹ç«¯**:
- é›†æˆæµ‹è¯•ä¾èµ–å®Œæ•´çš„ä¸‰ç«¯ç³»ç»Ÿ
- éœ€è¦å¯åŠ¨ï¼šè°ƒåº¦æœåŠ¡å™¨ + èŠ‚ç‚¹ç«¯ + Webç«¯

---

## âœ… æ’æŸ¥æ­¥éª¤

### æ­¥éª¤1: æ£€æŸ¥ASRæœåŠ¡å®Œæ•´æ—¥å¿—

```powershell
Get-Content "d:\Programs\github\lingua_1\electron_node\services\faster_whisper_vad\logs\faster-whisper-vad-service.log"
```

**æŸ¥æ‰¾å…³é”®ä¿¡æ¯**:
- æ˜¯å¦æœ‰å¯åŠ¨å¤±è´¥çš„é”™è¯¯
- uvicornæ˜¯å¦æ­£å¸¸å¯åŠ¨
- ç«¯å£ç›‘å¬æ˜¯å¦æˆåŠŸ

---

### æ­¥éª¤2: æ£€æŸ¥Pythonè¿›ç¨‹

```powershell
Get-Process python | Select-Object Id,@{Name="CommandLine";Expression={$_.CommandLine}}
```

**ç¡®è®¤**:
- ASRæœåŠ¡è¿›ç¨‹æ˜¯å¦è¿˜åœ¨è¿è¡Œ
- è¿›ç¨‹PIDæ˜¯å¦åŒ¹é…æ—¥å¿—ä¸­çš„126280

---

### æ­¥éª¤3: æ‰‹åŠ¨æµ‹è¯•ASRæœåŠ¡

```powershell
# å¦‚æœæœåŠ¡åœ¨è¿è¡Œï¼Œæµ‹è¯•å¥åº·æ£€æŸ¥
Invoke-WebRequest -Uri "http://localhost:6007/health" -UseBasicParsing
```

---

### æ­¥éª¤4: å›æ»šcleanupä¿®æ”¹ï¼ˆå¦‚æœæ˜¯ä¿®æ”¹å¯¼è‡´çš„ï¼‰

å¦‚æœç¡®è®¤æ˜¯æˆ‘çš„ä¿®æ”¹å¯¼è‡´çš„é—®é¢˜ï¼Œç«‹å³å›æ»šï¼š

```powershell
# å›æ»šåˆ°ä¹‹å‰çš„ç‰ˆæœ¬
git checkout HEAD -- electron_node/services/faster_whisper_vad/faster_whisper_vad_service.py
```

---

## ğŸ¯ ä¸´æ—¶è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆA: é‡å¯ASRæœåŠ¡

```powershell
# 1. åœæ­¢æ—§è¿›ç¨‹
Get-Process python | Where-Object {$_.Id -eq 126280} | Stop-Process -Force

# 2. ç­‰å¾…
Start-Sleep -Seconds 2

# 3. é‡æ–°å¯åŠ¨
cd d:\Programs\github\lingua_1\electron_node\services\faster_whisper_vad
python faster_whisper_vad_service.py
```

---

### æ–¹æ¡ˆB: å¯åŠ¨å®Œæ•´ç³»ç»Ÿ

å¦‚æœä¸‰ç«¯éƒ½æ²¡æœ‰å¯åŠ¨ï¼š

```powershell
# 1. å¯åŠ¨è°ƒåº¦æœåŠ¡å™¨
cd d:\Programs\github\lingua_1\central_server\scheduler
cargo run

# 2. å¯åŠ¨èŠ‚ç‚¹ç«¯
cd d:\Programs\github\lingua_1\electron_node\electron-node
npm run start

# 3. å¯åŠ¨Webç«¯
cd d:\Programs\github\lingua_1\webapp\web-client
npm run dev
```

---

## ğŸ”‘ å…³é”®é—®é¢˜

1. â“ **æ‚¨å¯åŠ¨äº†èŠ‚ç‚¹ç«¯å—ï¼Ÿ**
2. â“ **ASRæœåŠ¡çš„Pythonè¿›ç¨‹è¿˜åœ¨è¿è¡Œå—ï¼Ÿ**
3. â“ **æ˜¯å¦æœ‰å®Œæ•´çš„é”™è¯¯æ—¥å¿—ï¼Ÿ**

---

## ğŸ“‹ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³ç¡®è®¤ï¼š

1. **ASRæœåŠ¡è¿›ç¨‹çŠ¶æ€**
   ```powershell
   Get-Process python | Select-Object Id,CommandLine
   ```

2. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**
   ```powershell
   Get-Content "d:\Programs\github\lingua_1\electron_node\services\faster_whisper_vad\logs\faster-whisper-vad-service.log"
   ```

3. **å¦‚æœæœåŠ¡å·²å´©æºƒï¼Œé‡æ–°å¯åŠ¨**

---

**å½“å‰çŠ¶æ€**: â³ ç­‰å¾…ç¡®è®¤ç³»ç»Ÿè¿è¡ŒçŠ¶æ€  
**å»ºè®®**: è¯·å…ˆç¡®è®¤ä¸‰ç«¯ï¼ˆè°ƒåº¦+èŠ‚ç‚¹+Webï¼‰æ˜¯å¦éƒ½å·²å¯åŠ¨
