# å¤‡ä»½ä»£ç å¯åŠ¨è„šæœ¬åˆ›å»ºå®Œæˆ

**æ—¥æœŸ**: 2026-01-21 02:30  
**ç›®çš„**: å¯¹æ¯”æµ‹è¯•å¤‡ä»½ä»£ç å’Œå½“å‰ä»£ç çš„ASRæ€§èƒ½  
**çŠ¶æ€**: âœ… **è„šæœ¬å·²åˆ›å»ºï¼Œå¯ä»¥ä½¿ç”¨**

---

## ğŸ“ åˆ›å»ºçš„æ–‡ä»¶

### 1. ä¸»å¯åŠ¨è„šæœ¬

**æ–‡ä»¶**: `D:\Programs\github\lingua_1\expired\lingua_1-main\scripts\start_backup_system.ps1`

**åŠŸèƒ½**:
- âœ… è‡ªåŠ¨æ£€æŸ¥RedisçŠ¶æ€
- âœ… å¯åŠ¨ASRæœåŠ¡ï¼ˆç«¯å£7007ï¼‰
- âœ… å¯åŠ¨è°ƒåº¦æœåŠ¡å™¨ï¼ˆç«¯å£6010ï¼‰
- âœ… å¯åŠ¨èŠ‚ç‚¹ç«¯ï¼ˆè¿æ¥6010è°ƒåº¦å™¨ï¼‰
- âœ… å¯åŠ¨Webç«¯ï¼ˆç«¯å£4000ï¼‰
- âœ… æ‰€æœ‰æœåŠ¡åœ¨ç‹¬ç«‹ç»ˆç«¯è¿è¡Œ

**ä½¿ç”¨**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\scripts
.\start_backup_system.ps1
```

---

### 2. æ€§èƒ½å¯¹æ¯”è„šæœ¬

**æ–‡ä»¶**: `D:\Programs\github\lingua_1\expired\lingua_1-main\scripts\compare_performance.ps1`

**åŠŸèƒ½**:
- âœ… æ£€æŸ¥ä¸¤å¥—ç³»ç»Ÿçš„æœåŠ¡çŠ¶æ€
- âœ… ä»æ—¥å¿—æå–æœ€æ–°æ€§èƒ½æ•°æ®
- âœ… å¯¹æ¯”`list(segments)`è€—æ—¶
- âœ… æ˜¾ç¤ºæ€§èƒ½å·®å¼‚åˆ†æ
- âœ… å¯é€‰æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

**ä½¿ç”¨**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\scripts
.\compare_performance.ps1
```

---

### 3. ä½¿ç”¨è¯´æ˜æ–‡æ¡£

**æ–‡ä»¶**: `D:\Programs\github\lingua_1\expired\lingua_1-main\scripts\å¯åŠ¨å¤‡ä»½ä»£ç è¯´æ˜.md`

**å†…å®¹**:
- ğŸ“‹ ä¸ºä»€ä¹ˆéœ€è¦å¯åŠ¨å¤‡ä»½ä»£ç 
- ğŸ“‹ ç«¯å£æ˜ å°„è¡¨
- ğŸ“‹ å¿«é€Ÿå¯åŠ¨æ–¹æ³•
- ğŸ“‹ æ‰‹åŠ¨å¯åŠ¨æ­¥éª¤
- ğŸ“‹ å¯¹æ¯”æµ‹è¯•æ–¹æ³•
- ğŸ“‹ æ—¥å¿—ä½ç½®
- ğŸ“‹ æ•…éšœæ’é™¤

---

## ğŸ¯ ç«¯å£æ˜ å°„

| æœåŠ¡ | å½“å‰ä»£ç  | å¤‡ä»½ä»£ç  | è¯´æ˜ |
|------|---------|---------|------|
| **ASRæœåŠ¡** | 6007 | **7007** | å¯åŒæ—¶è¿è¡Œ |
| **è°ƒåº¦æœåŠ¡å™¨** | 5010 | **6010** | å¯åŒæ—¶è¿è¡Œ |
| **èŠ‚ç‚¹ç«¯Vite** | 5173 | **6173** | å¯åŒæ—¶è¿è¡Œ |
| **Webç«¯** | 3000 | **4000** | å¯åŒæ—¶è¿è¡Œ |
| **Redis** | 6379 | 6379 | å…±ç”¨ï¼ˆä¸å†²çªï¼‰ |

**è®¾è®¡**: æ‰€æœ‰ç«¯å£éƒ½ä¸åŒï¼Œä¸¤å¥—ç³»ç»Ÿå¯ä»¥åŒæ—¶è¿è¡Œï¼Œäº’ä¸å¹²æ‰°ã€‚

---

## ğŸš€ å¿«é€Ÿä½¿ç”¨æŒ‡å—

### æ­¥éª¤1: å¯åŠ¨å¤‡ä»½ä»£ç ç³»ç»Ÿ

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\scripts
.\start_backup_system.ps1
```

**é¢„æœŸç»“æœ**: æ‰“å¼€5ä¸ªç»ˆç«¯çª—å£ï¼ˆASRã€è°ƒåº¦å™¨ã€èŠ‚ç‚¹ç«¯ã€Webç«¯ã€è„šæœ¬ï¼‰

**éªŒè¯**:
- æ‰“å¼€æµè§ˆå™¨: http://localhost:4000 ï¼ˆå¤‡ä»½ä»£ç Webç«¯ï¼‰
- åº”è¯¥çœ‹åˆ°ç™»å½•ç•Œé¢

---

### æ­¥éª¤2: è¿›è¡Œå¯¹æ¯”æµ‹è¯•

#### 2a. æµ‹è¯•å¤‡ä»½ä»£ç 

1. æ‰“å¼€: http://localhost:4000
2. è¿›è¡Œè¯­éŸ³è¯†åˆ«æµ‹è¯•ï¼ˆé˜…è¯»æµ‹è¯•æ–‡æœ¬ï¼‰
3. è®°å½•ç»“æœå’Œè€—æ—¶

#### 2b. æµ‹è¯•å½“å‰ä»£ç ï¼ˆå¦‚æœå·²å¯åŠ¨ï¼‰

1. æ‰“å¼€: http://localhost:3000
2. è¿›è¡Œç›¸åŒçš„è¯­éŸ³è¯†åˆ«æµ‹è¯•
3. è®°å½•ç»“æœå’Œè€—æ—¶

---

### æ­¥éª¤3: å¯¹æ¯”æ€§èƒ½æ•°æ®

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\scripts
.\compare_performance.ps1
```

**è¾“å‡ºç¤ºä¾‹**:
```
========================================
æ€§èƒ½å¯¹æ¯”ç»“æœ
========================================

å¤‡ä»½ä»£ç  :
  éŸ³é¢‘æ—¶é•¿:         11.2 ç§’
  transcribeæ—¶é—´:   5.3 ç§’
  list(segments):   24.5 ç§’  â† å…³é”®æ•°æ®
  segmentsæ•°é‡:     2
  æ€§èƒ½æ¯”ç‡:         2.19x éŸ³é¢‘æ—¶é•¿

å½“å‰ä»£ç  :
  éŸ³é¢‘æ—¶é•¿:         11.2 ç§’
  transcribeæ—¶é—´:   5.4 ç§’
  list(segments):   24.7 ç§’  â† å…³é”®æ•°æ®
  segmentsæ•°é‡:     2
  æ€§èƒ½æ¯”ç‡:         2.21x éŸ³é¢‘æ—¶é•¿

========================================
å¯¹æ¯”åˆ†æ
========================================

list(segments)æ—¶é—´å·®å¼‚:
  å¤‡ä»½ä»£ç : 24.5 ç§’
  å½“å‰ä»£ç : 24.7 ç§’
  å·®å¼‚:     0.20 ç§’ (0.8%)

âœ… ç»“è®º: æ€§èƒ½åŸºæœ¬ä¸€è‡´
   â†’ é—®é¢˜å¯èƒ½æ˜¯å†å²é—ç•™ï¼Œä¸æ˜¯æœ€è¿‘æ”¹åŠ¨å¯¼è‡´çš„
```

---

## ğŸ“Š æµ‹è¯•åœºæ™¯å»ºè®®

### åœºæ™¯1: çŸ­éŸ³é¢‘ï¼ˆ<5ç§’ï¼‰

**ç›®çš„**: æµ‹è¯•åŸºçº¿æ€§èƒ½

**æ–¹æ³•**:
1. æœ—è¯»ä¸€å¥çŸ­è¯
2. è§‚å¯Ÿ`list(segments)`æ—¶é—´
3. å¯¹æ¯”ä¸¤å¥—ç³»ç»Ÿ

**é¢„æœŸ**: åº”è¯¥å¾ˆå¿«ï¼ˆ<1ç§’ï¼‰

---

### åœºæ™¯2: ä¸­ç­‰éŸ³é¢‘ï¼ˆ5-10ç§’ï¼‰

**ç›®çš„**: æµ‹è¯•æ­£å¸¸åœºæ™¯

**æ–¹æ³•**:
1. æœ—è¯»ä¸€æ®µè¯ï¼ˆ2-3å¥ï¼‰
2. è§‚å¯Ÿ`list(segments)`æ—¶é—´
3. å¯¹æ¯”ä¸¤å¥—ç³»ç»Ÿ

**é¢„æœŸ**: å¯èƒ½è¾ƒæ…¢ï¼ˆ5-15ç§’ï¼‰

---

### åœºæ™¯3: é•¿éŸ³é¢‘ï¼ˆ>10ç§’ï¼‰

**ç›®çš„**: é‡ç°å½“å‰çš„é—®é¢˜ï¼ˆ30ç§’è¶…æ—¶ï¼‰

**æ–¹æ³•**:
1. æœ—è¯»æµ‹è¯•æ–‡æœ¬ï¼ˆåŒ…å«é•¿å¥ï¼‰
2. è§‚å¯Ÿæ˜¯å¦è¶…æ—¶
3. å¯¹æ¯”ä¸¤å¥—ç³»ç»Ÿ

**é¢„æœŸ**: 
- å¦‚æœå¤‡ä»½ä»£ç ä¹Ÿæ…¢ï¼šé—®é¢˜æ˜¯å†å²é—ç•™
- å¦‚æœå¤‡ä»½ä»£ç å¿«ï¼šé—®é¢˜æ˜¯æœ€è¿‘å¼•å…¥

---

## ğŸ” å…³é”®åˆ¤æ–­é€»è¾‘

### åˆ¤æ–­1: æ€§èƒ½å·®å¼‚<20%

```
âœ… ç»“è®º: æ€§èƒ½åŸºæœ¬ä¸€è‡´
â†’ é—®é¢˜ä¸æ˜¯æœ€è¿‘æ”¹åŠ¨å¯¼è‡´çš„
â†’ å¯èƒ½æ˜¯å†å²é—ç•™é—®é¢˜
â†’ éœ€è¦æ·±åº¦ä¼˜åŒ–faster-whisperä½¿ç”¨æ–¹å¼
```

---

### åˆ¤æ–­2: å½“å‰ä»£ç æ˜æ˜¾æ›´æ…¢

```
âš ï¸ ç»“è®º: å½“å‰ä»£ç æ€§èƒ½é€€åŒ–
â†’ éœ€è¦å¯¹æ¯”ä»£ç å·®å¼‚
â†’ æ‰¾å‡ºå¯¼è‡´é€€åŒ–çš„å…·ä½“ä¿®æ”¹
â†’ å›æ»šæˆ–ä¿®å¤è¯¥ä¿®æ”¹
```

---

### åˆ¤æ–­3: å¤‡ä»½ä»£ç ä¹Ÿæ…¢ï¼ˆ>10ç§’ï¼‰

```
ğŸ”´ ç»“è®º: å†å²é—ç•™é—®é¢˜
â†’ faster-whisperçš„list(segments)æœ¬èº«å°±å¾ˆæ…¢
â†’ å¯èƒ½ä¸ONNX Runtimeã€CUDAé…ç½®æœ‰å…³
â†’ éœ€è¦è€ƒè™‘æ¶æ„æ”¹é€ ï¼ˆæµå¼è¿”å›ï¼‰
```

---

## ğŸ“ æ—¥å¿—åˆ†æ

### å…³é”®æ—¥å¿—è¡Œ

**æ€§èƒ½æ—¥å¿—**:
```
[trace_id] phase=segments_list_done t_segments_list=24.682s segments_count=2 worker_uptime=144.8s job_index=4 audio_duration=11.20s
```

**å…³é”®æŒ‡æ ‡**:
- `t_segments_list`: **æœ€é‡è¦ï¼**list(segments)è€—æ—¶
- `segments_count`: segmentsæ•°é‡
- `audio_duration`: éŸ³é¢‘æ—¶é•¿
- `worker_uptime`: Workerè¿è¡Œæ—¶é—´
- `job_index`: Workerå¤„ç†çš„ä»»åŠ¡æ•°

**æ‰‹åŠ¨æŸ¥çœ‹**:
```powershell
# å¤‡ä»½ä»£ç 
Get-Content "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\faster_whisper_vad\logs\faster-whisper-vad-service.log" | Select-String "phase=segments_list_done"

# å½“å‰ä»£ç 
Get-Content "D:\Programs\github\lingua_1\electron_node\services\faster_whisper_vad\logs\faster-whisper-vad-service.log" | Select-String "phase=segments_list_done"
```

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. Pythonç¯å¢ƒä¸€è‡´æ€§

ç¡®ä¿ä¸¤å¥—ä»£ç ä½¿ç”¨ç›¸åŒçš„Pythonç¯å¢ƒï¼š

```powershell
# æ£€æŸ¥ç‰ˆæœ¬
python --version

# æ£€æŸ¥å…³é”®ä¾èµ–
pip list | findstr "faster-whisper onnxruntime ctranslate2"
```

**åº”è¯¥çœ‹åˆ°**:
- faster-whisper: 1.2.1
- onnxruntime-gpu: 1.23.2
- ctranslate2: 4.6.2

å¦‚æœä¸ä¸€è‡´ï¼Œæµ‹è¯•ç»“æœä¸å¯é ã€‚

---

### 2. GPUèµ„æº

ä¸¤å¥—ç³»ç»ŸåŒæ—¶è¿è¡Œä¼šå ç”¨æ›´å¤šGPUï¼š

```powershell
nvidia-smi
```

**å»ºè®®**:
- å…ˆæµ‹è¯•ä¸€å¥—ï¼Œåœæ­¢åå†æµ‹è¯•å¦ä¸€å¥—
- æˆ–è€…å…³æ³¨GPUå ç”¨ï¼Œç¡®ä¿ä¸å½±å“æ€§èƒ½

---

### 3. åœæ­¢æœåŠ¡

æ¯ä¸ªæœåŠ¡åœ¨ç‹¬ç«‹ç»ˆç«¯è¿è¡Œï¼š
- å…³é—­ç»ˆç«¯çª—å£ = åœæ­¢æœåŠ¡
- æˆ–Ctrl+Cåœæ­¢

**æ¸…ç†æ‰€æœ‰æœåŠ¡**:
```powershell
# åœæ­¢æ‰€æœ‰Pythonè¿›ç¨‹ï¼ˆASRæœåŠ¡ï¼‰
Get-Process python | Stop-Process -Force

# åœæ­¢è°ƒåº¦æœåŠ¡å™¨ï¼ˆå¦‚æœéœ€è¦ï¼‰
Get-Process cargo | Stop-Process -Force
```

---

## ğŸ¯ ä¸‹ä¸€æ­¥è¡ŒåŠ¨

### ç«‹å³æ‰§è¡Œ

1. âœ… **å¯åŠ¨å¤‡ä»½ä»£ç ç³»ç»Ÿ**:
   ```powershell
   cd D:\Programs\github\lingua_1\expired\lingua_1-main\scripts
   .\start_backup_system.ps1
   ```

2. âœ… **è¿›è¡Œå¯¹æ¯”æµ‹è¯•**:
   - æµ‹è¯•å¤‡ä»½ä»£ç ï¼ˆhttp://localhost:4000ï¼‰
   - æµ‹è¯•å½“å‰ä»£ç ï¼ˆhttp://localhost:3000ï¼‰

3. âœ… **è¿è¡Œå¯¹æ¯”è„šæœ¬**:
   ```powershell
   .\compare_performance.ps1
   ```

---

### æ ¹æ®ç»“æœå†³ç­–

**æƒ…å†µA: æ€§èƒ½åŸºæœ¬ä¸€è‡´ï¼ˆå·®å¼‚<20%ï¼‰**
- âœ… ç¡®è®¤æ˜¯å†å²é—ç•™é—®é¢˜
- ğŸ”¬ éœ€è¦æ·±åº¦profiling
- ğŸ“ è€ƒè™‘æ¶æ„æ”¹é€ æ–¹æ¡ˆ

**æƒ…å†µB: å½“å‰ä»£ç æ˜æ˜¾æ›´æ…¢ï¼ˆå·®å¼‚>50%ï¼‰**
- ğŸ” å¯¹æ¯”ä¸¤å¥—ä»£ç çš„å·®å¼‚
- ğŸ› å®šä½å¯¼è‡´é€€åŒ–çš„å…·ä½“ä¿®æ”¹
- ğŸ”§ ä¿®å¤æˆ–å›æ»šè¯¥ä¿®æ”¹

---

## ğŸ“ æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ—¥å¿—**: åœ¨`å¯åŠ¨å¤‡ä»½ä»£ç è¯´æ˜.md`ä¸­æœ‰è¯¦ç»†æ—¥å¿—ä½ç½®
2. **æ£€æŸ¥ç«¯å£**: ç¡®ä¿æ²¡æœ‰ç«¯å£å†²çª
3. **éªŒè¯ç¯å¢ƒ**: ç¡®ä¿Pythonã€Node.jsã€Rustç‰ˆæœ¬æ­£ç¡®

---

**åˆ›å»ºæ—¥æœŸ**: 2026-01-21 02:30  
**çŠ¶æ€**: âœ… å®Œæˆï¼Œå¯ä»¥ä½¿ç”¨  
**ç”¨é€”**: å¯¹æ¯”å¤‡ä»½ä»£ç å’Œå½“å‰ä»£ç çš„ASRæ€§èƒ½
