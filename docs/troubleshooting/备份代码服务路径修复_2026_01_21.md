# å¤‡ä»½ä»£ç æœåŠ¡è·¯å¾„ä¿®å¤

**æ—¥æœŸ**: 2026-01-21 03:25  
**é—®é¢˜**: Electronçª—å£æœåŠ¡åˆ—è¡¨ä¸­çœ‹ä¸åˆ°ä¸­æ–‡ä¿®å¤æœåŠ¡  
**åŸå› **: âœ… **é…ç½®æ–‡ä»¶è·¯å¾„æŒ‡å‘äº†ä¸»é¡¹ç›®è€Œä¸æ˜¯å¤‡ä»½ä»£ç **

---

## ğŸ”´ é—®é¢˜åˆ†æ

### å‘ç°çš„é—®é¢˜

**é…ç½®æ–‡ä»¶è·¯å¾„é”™è¯¯**:
- `installed.json` å’Œ `current.json` ä¸­çš„è·¯å¾„éƒ½æŒ‡å‘ä¸»é¡¹ç›®
- å¤‡ä»½ä»£ç çš„èŠ‚ç‚¹ç«¯æ— æ³•æ‰¾åˆ°è¿™äº›æœåŠ¡

**é”™è¯¯è·¯å¾„ç¤ºä¾‹**:
```json
"install_path": "D:/Programs/github/lingua_1/electron_node/services/semantic_repair_zh"
```

**æ­£ç¡®è·¯å¾„åº”è¯¥æ˜¯**:
```json
"install_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_zh"
```

---

## âœ… ä¿®å¤å†…å®¹

### æ–‡ä»¶1: installed.json

**è·¯å¾„**: `D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\installed.json`

**ä¿®æ”¹å†…å®¹**:

æ‰€æœ‰æœåŠ¡çš„ `install_path` ä»ï¼š
```
D:/Programs/github/lingua_1/electron_node/services/...
```

æ”¹ä¸ºï¼š
```
D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/...
```

**å½±å“çš„æœåŠ¡**:
- âœ… nmt-m2m100
- âœ… node-inference
- âœ… piper-tts
- âœ… your-tts
- âœ… en-normalize
- âœ… semantic-repair-zh
- âœ… semantic-repair-en
- âœ… semantic-repair-en-zh

---

### æ–‡ä»¶2: current.json

**è·¯å¾„**: `D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\current.json`

**ä¿®æ”¹å†…å®¹**:

æ‰€æœ‰æœåŠ¡çš„ `install_path` å’Œ `service_json_path` ä»ï¼š
```
D:/Programs/github/lingua_1/electron_node/services/...
```

æ”¹ä¸ºï¼š
```
D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/...
```

**å½±å“çš„æœåŠ¡**:
- âœ… en-normalize
- âœ… semantic-repair-zh
- âœ… semantic-repair-en

---

## ğŸ“‹ ä¿®å¤åçš„é…ç½®

### installed.json (éƒ¨åˆ†)

```json
{
  "semantic-repair-zh": {
    "1.0.0::windows-x64": {
      "service_id": "semantic-repair-zh",
      "version": "1.0.0",
      "platform": "windows-x64",
      "installed_at": "2026-01-01T05:20:31.903Z",
      "install_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_zh",
      "size_bytes": 2079300653
    }
  }
}
```

---

### current.json (å®Œæ•´)

```json
{
  "en-normalize": {
    "version": "1.0.0",
    "platform": "windows-x64",
    "service_json_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/en_normalize/service.json",
    "install_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/en_normalize"
  },
  "semantic-repair-zh": {
    "version": "1.0.0",
    "platform": "windows-x64",
    "service_json_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_zh/service.json",
    "install_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_zh"
  },
  "semantic-repair-en": {
    "version": "1.0.0",
    "platform": "windows-x64",
    "service_json_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_en/service.json",
    "install_path": "D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_en"
  }
}
```

---

## ğŸ¯ ä¸ºä»€ä¹ˆä¼šçœ‹ä¸åˆ°ï¼Ÿ

### åŸå› é“¾

1. **èŠ‚ç‚¹ç«¯å¯åŠ¨æ—¶è¯»å–é…ç½®**
   - è¯»å– `installed.json` å’Œ `current.json`
   - è·å–æœåŠ¡çš„å®‰è£…è·¯å¾„

2. **æ ¹æ®è·¯å¾„æŸ¥æ‰¾service.json**
   - å°è¯•è®¿é—® `D:/Programs/github/lingua_1/electron_node/services/semantic_repair_zh/service.json`
   - ä½†å¤‡ä»½ä»£ç çš„æœåŠ¡åœ¨ `D:/Programs/github/lingua_1/expired/lingua_1-main/...`

3. **æ–‡ä»¶ä¸å­˜åœ¨ï¼ŒæœåŠ¡åŠ è½½å¤±è´¥**
   - æ‰¾ä¸åˆ° `service.json`
   - æœåŠ¡ä¸ä¼šå‡ºç°åœ¨æœåŠ¡åˆ—è¡¨ä¸­
   - UIä¸­çœ‹ä¸åˆ°ä¸­æ–‡ä¿®å¤æœåŠ¡

---

## ğŸ“Š éªŒè¯æ–¹æ³•

### æ–¹æ³•1: æ£€æŸ¥é…ç½®æ–‡ä»¶

```powershell
# æŸ¥çœ‹installed.jsonä¸­çš„è·¯å¾„
Get-Content "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\installed.json" | ConvertFrom-Json | Select-Object -ExpandProperty "semantic-repair-zh" | Select-Object -ExpandProperty "1.0.0::windows-x64" | Select-Object install_path
```

**æœŸæœ›è¾“å‡º**:
```
install_path
------------
D:/Programs/github/lingua_1/expired/lingua_1-main/electron_node/services/semantic_repair_zh
```

---

### æ–¹æ³•2: æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨

```powershell
# æ£€æŸ¥service.jsonæ˜¯å¦å¯ä»¥é€šè¿‡æ–°è·¯å¾„è®¿é—®
Test-Path "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh\service.json"
```

**æœŸæœ›è¾“å‡º**: `True`

---

### æ–¹æ³•3: é‡å¯èŠ‚ç‚¹ç«¯å¹¶æŸ¥çœ‹æ—¥å¿—

```powershell
# å¯åŠ¨èŠ‚ç‚¹ç«¯
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start

# æŸ¥çœ‹æ—¥å¿—
Get-ChildItem "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node\logs" -Filter "*.log" | Sort-Object LastWriteTime -Descending | Select-Object -First 1 | Get-Content -Tail 50 | Select-String "semantic-repair-zh"
```

**æœŸæœ›çœ‹åˆ°**:
```
[INFO] Loading service: semantic-repair-zh
[INFO] Service semantic-repair-zh loaded successfully
```

---

## âš ï¸ é‡è¦è¯´æ˜

### ä¸ºä»€ä¹ˆä¹‹å‰è®¾è®¡æˆå…±äº«ï¼Ÿ

**åŸå§‹è®¾è®¡æ„å›¾**:
- é¿å…é‡å¤å¤§å‹æ¨¡å‹æ–‡ä»¶ï¼ˆæ¯ä¸ª2GB+ï¼‰
- ä¸¤å¥—ä»£ç å…±äº«åŒä¸€ä¸ªservicesç›®å½•
- é€šè¿‡é…ç½®æ–‡ä»¶è·¯å¾„æŒ‡å‘ä¸»é¡¹ç›®

**é—®é¢˜**:
- å¤‡ä»½ä»£ç åº”è¯¥æ˜¯ç‹¬ç«‹çš„
- ä¸åº”è¯¥ä¾èµ–ä¸»é¡¹ç›®çš„è·¯å¾„
- éœ€è¦ç‹¬ç«‹è¿è¡Œå’Œæµ‹è¯•

---

### ç°åœ¨çš„è®¾ç½®

**ç‹¬ç«‹é…ç½®**:
- âœ… å¤‡ä»½ä»£ç ä½¿ç”¨è‡ªå·±çš„servicesç›®å½•
- âœ… é…ç½®æ–‡ä»¶æŒ‡å‘å¤‡ä»½ä»£ç è·¯å¾„
- âœ… å¯ä»¥ç‹¬ç«‹å¯åŠ¨å’Œæµ‹è¯•

**æ¨¡å‹æ–‡ä»¶**:
- âš ï¸ å¤‡ä»½ä»£ç ç›®å½•ä¸‹éœ€è¦æœ‰å®Œæ•´çš„æ¨¡å‹æ–‡ä»¶
- âœ… å½“å‰å¤‡ä»½ä»£ç ç›®å½•å·²ç»æœ‰å®Œæ•´çš„æœåŠ¡æ–‡ä»¶
- âœ… åŒ…æ‹¬modelsç›®å½•å’Œæ‰€æœ‰ä¾èµ–

---

## ğŸš€ ä¸‹ä¸€æ­¥

### é‡å¯èŠ‚ç‚¹ç«¯

**å‘½ä»¤**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start
```

**æ£€æŸ¥**:
1. Electronçª—å£æ‰“å¼€
2. ç‚¹å‡»"æœåŠ¡ç®¡ç†"æˆ–æŸ¥çœ‹æœåŠ¡åˆ—è¡¨
3. åº”è¯¥èƒ½çœ‹åˆ° `semantic-repair-zh` (ä¸­æ–‡è¯­ä¹‰ä¿®å¤)

---

### å¦‚æœè¿˜æ˜¯çœ‹ä¸åˆ°

**å¯èƒ½åŸå› **:
1. **service.jsonä¸­enabled: false**
   - æ£€æŸ¥ï¼š`Get-Content "...\semantic_repair_zh\service.json"`
   - åº”è¯¥æ˜¯ `"enabled": true`

2. **æ¨¡å‹æ–‡ä»¶ç¼ºå¤±**
   - æ£€æŸ¥ï¼š`Test-Path "...\semantic_repair_zh\models\qwen2.5-3b-instruct-zh"`
   - åº”è¯¥å­˜åœ¨

3. **èŠ‚ç‚¹ç«¯å¯åŠ¨å¤±è´¥**
   - æŸ¥çœ‹èŠ‚ç‚¹ç«¯æ—¥å¿—
   - æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯

---

## âœ… æ€»ç»“

| é¡¹ç›® | çŠ¶æ€ |
|------|------|
| **installed.jsonè·¯å¾„ä¿®å¤** | âœ… å®Œæˆ (8ä¸ªæœåŠ¡) |
| **current.jsonè·¯å¾„ä¿®å¤** | âœ… å®Œæˆ (3ä¸ªæœåŠ¡) |
| **service.jsonå¯ç”¨çŠ¶æ€** | âœ… enabled: true |
| **å‡†å¤‡é‡å¯æµ‹è¯•** | âœ… å¯ä»¥é‡å¯èŠ‚ç‚¹ç«¯ |

---

## ğŸ’¡ å…³é”®ç‚¹

1. **è·¯å¾„é—®é¢˜æ˜¯æ ¹æœ¬åŸå› ** âœ…
   - é…ç½®æŒ‡å‘é”™è¯¯çš„ç›®å½•
   - èŠ‚ç‚¹ç«¯æ‰¾ä¸åˆ°æœåŠ¡æ–‡ä»¶

2. **å·²å…¨éƒ¨ä¿®å¤** âœ…
   - æ‰€æœ‰è·¯å¾„å·²æ›´æ–°
   - æŒ‡å‘å¤‡ä»½ä»£ç ç›®å½•

3. **é‡å¯ååº”è¯¥å¯è§** âœ…
   - æœåŠ¡åˆ—è¡¨ä¼šæ˜¾ç¤ºä¸­æ–‡ä¿®å¤æœåŠ¡
   - å¯ä»¥æ­£å¸¸å¯åŠ¨å’Œä½¿ç”¨

---

**å»ºè®®**: ç°åœ¨é‡å¯å¤‡ä»½ä»£ç çš„èŠ‚ç‚¹ç«¯ï¼ŒæœåŠ¡åº”è¯¥ä¼šå‡ºç°åœ¨åˆ—è¡¨ä¸­äº†ï¼
