# ä¸­æ–‡è¯­ä¹‰ä¿®å¤æœåŠ¡å¯ç”¨

**æ—¥æœŸ**: 2026-01-21 03:20  
**çŠ¶æ€**: âœ… **å·²å¯ç”¨**

---

## ğŸ”§ ä¿®æ”¹å†…å®¹

### ä¿®æ”¹æ–‡ä»¶

**è·¯å¾„**: `D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh\service.json`

### ä¿®æ”¹é¡¹

```json
// ä¿®æ”¹å‰
"enabled": false,
"deprecated": true,
"deprecated_reason": "Use semantic-repair-en-zh unified service instead",

// ä¿®æ”¹å
"enabled": true,
"deprecated": false,
```

**è¯´æ˜**: 
- âœ… å¯ç”¨æœåŠ¡ (`enabled: true`)
- âœ… ç§»é™¤å¼ƒç”¨æ ‡è®° (`deprecated: false`)
- âœ… åˆ é™¤å¼ƒç”¨åŸå› è¯´æ˜

---

## ğŸ“‹ æœåŠ¡ä¿¡æ¯

### åŸºæœ¬ä¿¡æ¯

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **æœåŠ¡ID** | semantic-repair-zh |
| **æœåŠ¡åç§°** | Semantic Repair Service - Chinese |
| **ç‰ˆæœ¬** | 1.0.0 |
| **ç±»å‹** | semantic-repair |
| **è¯­è¨€** | zh (ä¸­æ–‡) |
| **ç«¯å£** | 5013 |
| **çŠ¶æ€** | âœ… å·²å¯ç”¨ |

---

### æŠ€æœ¯é…ç½®

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **GPUè¦æ±‚** | å¿…éœ€ |
| **æ˜¾å­˜ä¼°ç®—** | 2048 MB (2GB) |
| **æœ€å¤§å¹¶å‘** | 1 |
| **å¯åŠ¨å‘½ä»¤** | python semantic_repair_zh_service.py |
| **å¥åº·æ£€æŸ¥** | /health (è¶…æ—¶5ç§’) |

---

### æ¨¡å‹ä¿¡æ¯

| é…ç½®é¡¹ | å€¼ |
|--------|-----|
| **æ¨¡å‹åç§°** | qwen2.5-3b-instruct-zh |
| **æ¨¡å‹ç±»å‹** | llm (å¤§è¯­è¨€æ¨¡å‹) |
| **é‡åŒ–æ–¹å¼** | int4 |
| **æ¨¡å‹è·¯å¾„** | models/qwen2.5-3b-instruct-zh |

---

## ğŸš€ å¦‚ä½•ä½¿ç”¨

### æ–¹æ¡ˆ1: èŠ‚ç‚¹ç«¯è‡ªåŠ¨å¯åŠ¨ï¼ˆæ¨èï¼‰

**å¯åŠ¨å¤‡ä»½ä»£ç èŠ‚ç‚¹ç«¯æ—¶ï¼ŒæœåŠ¡ä¼šè‡ªåŠ¨å¯åŠ¨**:

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start
```

**æ£€æŸ¥æ—¥å¿—**:
```powershell
# æŸ¥çœ‹èŠ‚ç‚¹ç«¯æ—¥å¿—ï¼Œç¡®è®¤æœåŠ¡å¯åŠ¨
Get-ChildItem "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node\logs" -Filter "*.log" | Sort-Object LastWriteTime -Descending | Select-Object -First 1 | Get-Content -Tail 50 | Select-String "semantic-repair-zh"
```

---

### æ–¹æ¡ˆ2: æ‰‹åŠ¨ç‹¬ç«‹å¯åŠ¨

**å¦‚æœéœ€è¦å•ç‹¬å¯åŠ¨æœåŠ¡è¿›è¡Œæµ‹è¯•**:

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh
python semantic_repair_zh_service.py
```

**æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh
.\start_all_in_one.ps1
```

---

## ğŸ” éªŒè¯æœåŠ¡

### æ£€æŸ¥ç«¯å£

```powershell
Test-NetConnection -ComputerName localhost -Port 5013
```

**æœŸæœ›è¾“å‡º**:
```
TcpTestSucceeded : True
```

---

### æ£€æŸ¥è¿›ç¨‹

```powershell
Get-Process python | ForEach-Object {
    $cmdLine = (Get-WmiObject Win32_Process -Filter "ProcessId=$($_.Id)").CommandLine
    if ($cmdLine -match "semantic_repair_zh") {
        Write-Host "æ‰¾åˆ°æœåŠ¡è¿›ç¨‹:"
        Write-Host "PID: $($_.Id)"
        Write-Host "å‘½ä»¤: $cmdLine"
    }
}
```

---

### å¥åº·æ£€æŸ¥

```powershell
# ä½¿ç”¨curlæˆ–Invoke-WebRequest
Invoke-WebRequest -Uri "http://localhost:5013/health" -Method GET
```

**æœŸæœ›å“åº”**: HTTP 200

---

## âš ï¸ æ³¨æ„äº‹é¡¹

### 1. GPUèµ„æºè¦æ±‚

**æœåŠ¡éœ€è¦**:
- âœ… GPUå¿…éœ€ï¼ˆnvidia-smiå¯æ£€æµ‹åˆ°ï¼‰
- âœ… è‡³å°‘2GBæ˜¾å­˜
- âœ… CUDAç¯å¢ƒæ­£ç¡®é…ç½®

**æ£€æŸ¥GPUçŠ¶æ€**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh
python check_gpu_usage.py
```

---

### 2. æ¨¡å‹æ–‡ä»¶

**æ¨¡å‹è·¯å¾„**: `D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh\models\qwen2.5-3b-instruct-zh`

**æ£€æŸ¥æ¨¡å‹æ–‡ä»¶**:
```powershell
Test-Path "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh\models\qwen2.5-3b-instruct-zh"
```

**å¦‚æœæ¨¡å‹ä¸å­˜åœ¨**ï¼Œéœ€è¦ä¸‹è½½ï¼š
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh
.\download_quantize_config.ps1
```

---

### 3. Pythonä¾èµ–

**æ£€æŸ¥ä¾èµ–**:
```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh
pip list | Select-String "llama|transformers"
```

**å¦‚æœç¼ºå°‘ä¾èµ–**:
```powershell
pip install -r requirements.txt
```

---

## ğŸ“Š å¯åŠ¨åçš„é¢„æœŸè¡Œä¸º

### èŠ‚ç‚¹ç«¯æ—¥å¿—åº”æ˜¾ç¤º

```
[INFO] Loading service: semantic-repair-zh
[INFO] Service semantic-repair-zh starting on port 5013
[INFO] Service semantic-repair-zh loaded successfully
```

---

### æœåŠ¡æ—¥å¿—åº”æ˜¾ç¤º

```
[INFO] Starting Semantic Repair Service - Chinese
[INFO] Loading model: qwen2.5-3b-instruct-zh
[INFO] Model loaded successfully
[INFO] Server started on port 5013
```

---

## ğŸ¯ ä¸åˆå¹¶æœåŠ¡çš„åŒºåˆ«

### semantic-repair-zh (å½“å‰å¯ç”¨)

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **è¯­è¨€æ”¯æŒ** | ä»…ä¸­æ–‡ |
| **æ¨¡å‹** | qwen2.5-3b-instruct-zh (ä¸“ç”¨ä¸­æ–‡æ¨¡å‹) |
| **ç«¯å£** | 5013 |
| **æ˜¾å­˜** | 2GB |

---

### semantic-repair-en-zh (æœªä½¿ç”¨)

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| **è¯­è¨€æ”¯æŒ** | è‹±æ–‡ + ä¸­æ–‡åŒå‘ |
| **æ¨¡å‹** | åŒ…å«è‹±æ–‡å’Œä¸­æ–‡ä¸¤ä¸ªæ¨¡å‹ |
| **ç«¯å£** | 5014 |
| **æ˜¾å­˜** | 4GB+ |

**è¯´æ˜**: æŒ‰ç…§æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘ä»¬åªå¯ç”¨äº†ä¸­æ–‡ä¸“ç”¨æœåŠ¡ï¼Œæ›´è½»é‡ã€‚

---

## ğŸ“‹ å®Œæ•´çš„å¯åŠ¨æµç¨‹

### æ­¥éª¤1: ç¡®è®¤æœåŠ¡é…ç½®

```powershell
# æŸ¥çœ‹service.json
Get-Content "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\services\semantic_repair_zh\service.json" | ConvertFrom-Json | Select-Object service_id, enabled, deprecated, port
```

**æœŸæœ›è¾“å‡º**:
```
service_id        : semantic-repair-zh
enabled           : True
deprecated        : False
port              : 5013
```

---

### æ­¥éª¤2: å¯åŠ¨å¤‡ä»½ä»£ç ä¸‰ç«¯

```powershell
# ç»ˆç«¯1: è°ƒåº¦æœåŠ¡å™¨
cd D:\Programs\github\lingua_1\expired\lingua_1-main\central_server\scheduler
cargo run --release

# ç»ˆç«¯2: èŠ‚ç‚¹ç«¯ï¼ˆä¼šè‡ªåŠ¨å¯åŠ¨è¯­ä¹‰ä¿®å¤æœåŠ¡ï¼‰
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start

# ç»ˆç«¯3: Webç«¯
cd D:\Programs\github\lingua_1\expired\lingua_1-main\webapp\web-client
npm run dev
```

---

### æ­¥éª¤3: éªŒè¯æœåŠ¡è¿è¡Œ

```powershell
# æ£€æŸ¥ç«¯å£
Test-NetConnection localhost -Port 5013

# æŸ¥çœ‹èŠ‚ç‚¹ç«¯æ—¥å¿—
Get-ChildItem "D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node\logs" -Filter "*.log" | Sort-Object LastWriteTime -Descending | Select-Object -First 1 | Get-Content -Tail 50
```

---

## âœ… æ€»ç»“

| é¡¹ç›® | çŠ¶æ€ |
|------|------|
| **service.jsonä¿®æ”¹** | âœ… å®Œæˆ |
| **æœåŠ¡å¯ç”¨** | âœ… enabled: true |
| **å¼ƒç”¨æ ‡è®°ç§»é™¤** | âœ… deprecated: false |
| **å‡†å¤‡å¯åŠ¨** | âœ… å¯ä»¥å¯åŠ¨èŠ‚ç‚¹ç«¯ |

---

**ä¸‹ä¸€æ­¥**: å¯åŠ¨å¤‡ä»½ä»£ç èŠ‚ç‚¹ç«¯ï¼ŒæœåŠ¡ä¼šè‡ªåŠ¨åŠ è½½å¹¶è¿è¡Œï¼
