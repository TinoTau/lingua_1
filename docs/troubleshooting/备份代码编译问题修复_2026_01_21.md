# å¤‡ä»½ä»£ç ç¼–è¯‘é—®é¢˜ä¿®å¤

**æ—¥æœŸ**: 2026-01-21 03:15  
**çŠ¶æ€**: âœ… **å·²ä¿®å¤**

---

## ğŸ”´ é—®é¢˜1: TypeScriptç¼–è¯‘é”™è¯¯

### é”™è¯¯ä¿¡æ¯

```
main/src/agent/node-agent-services.ts:53:33 - error TS2304: Cannot find name 'path'.
main/src/agent/node-agent-services.ts:54:14 - error TS2304: Cannot find name 'fs'.
main/src/agent/node-agent-services.ts:58:40 - error TS2304: Cannot find name 'fs'.
```

---

### åŸå› 

**ç¼ºå°‘å¯¼å…¥è¯­å¥**: `node-agent-services.ts` ä½¿ç”¨äº† `path` å’Œ `fs` ä½†æ²¡æœ‰å¯¼å…¥

---

### âœ… ä¿®å¤

**æ·»åŠ å¯¼å…¥**:

```typescript
import * as path from 'path';
import * as fs from 'fs';
```

**ä½ç½®**: `D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node\main\src\agent\node-agent-services.ts`

**å·²åº”ç”¨**: âœ…

---

### éªŒè¯

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm run build:main
```

**ç»“æœ**: âœ… **ç¼–è¯‘æˆåŠŸ**

```
âœ“ Fixed ServiceType export in messages.js
```

---

## ğŸ”´ é—®é¢˜2: è¯­ä¹‰ä¿®å¤æœåŠ¡å¼‚å¸¸é€€å‡º

### é”™è¯¯ç°è±¡

```
[semantic-repair-zh] stderr: Python 3.10.11 ... on win32
Type "help", "copyright", "credits" or "license" for more information.
>>>
[semantic-repair-zh] Process exited: code=0, signal=null
```

**ç°è±¡**: Pythonè¿›å…¥äº†äº¤äº’æ¨¡å¼ï¼ˆ`>>>` æç¤ºç¬¦ï¼‰ï¼Œç„¶åç«‹å³é€€å‡º

---

### åŸå› åˆ†æ

#### åŸå› 1: æœåŠ¡è¢«æ ‡è®°ä¸ºå·²å¼ƒç”¨

**service.jsoné…ç½®**:
```json
{
  "enabled": false,
  "deprecated": true,
  "deprecated_reason": "Use semantic-repair-en-zh unified service instead"
}
```

**è¯´æ˜**:
- `semantic-repair-zh` æ˜¯æ—§æœåŠ¡ï¼Œå·²è¢«å¼ƒç”¨
- åº”è¯¥ä½¿ç”¨ `semantic-repair-en-zh` ç»Ÿä¸€æœåŠ¡

---

#### åŸå› 2: Pythonå¯åŠ¨å‘½ä»¤é—®é¢˜

**å½“å‰é…ç½®**:
```json
{
  "startup_command": "python",
  "startup_args": ["semantic_repair_zh_service.py"]
}
```

**é—®é¢˜**:
- å·¥ä½œç›®å½•å¯èƒ½ä¸æ­£ç¡®
- Pythonæ‰¾ä¸åˆ° `semantic_repair_zh_service.py` æ–‡ä»¶
- å› æ­¤è¿›å…¥äº¤äº’æ¨¡å¼

---

### ğŸ”§ è§£å†³æ–¹æ¡ˆ

#### æ–¹æ¡ˆ1: ä¸å¯åŠ¨æ—§æœåŠ¡ï¼ˆæ¨èï¼‰

**åŸå› **:
- `semantic-repair-zh` å·²è¢«æ ‡è®°ä¸ºå¼ƒç”¨
- æ–°çš„ç»Ÿä¸€æœåŠ¡ `semantic-repair-en-zh` åŠŸèƒ½æ›´å®Œæ•´

**æ“ä½œ**: 
- ä¸éœ€è¦ä»»ä½•ä¿®æ”¹
- èŠ‚ç‚¹ç«¯ä¼šè‡ªåŠ¨è·³è¿‡å·²å¼ƒç”¨çš„æœåŠ¡

---

#### æ–¹æ¡ˆ2: æ‰‹åŠ¨å¯åŠ¨æ–°æœåŠ¡ï¼ˆå¦‚æœéœ€è¦ï¼‰

**å¯åŠ¨semantic-repair-en-zh**:

```powershell
cd D:\Programs\github\lingua_1\electron_node\services\semantic_repair_en_zh
python service.py
```

æˆ–ä½¿ç”¨å¯åŠ¨è„šæœ¬:
```powershell
cd D:\Programs\github\lingua_1\electron_node\services\semantic_repair_en_zh
.\scripts\service\start_service.ps1
```

---

#### æ–¹æ¡ˆ3: ä¿®å¤æ—§æœåŠ¡å¯åŠ¨ï¼ˆä¸æ¨èï¼‰

**å¦‚æœçœŸçš„éœ€è¦å¯åŠ¨æ—§æœåŠ¡**ï¼Œä¿®æ”¹ `service.json`:

```json
{
  "enabled": true,
  "deprecated": false
}
```

**ä½†å¼ºçƒˆå»ºè®®ä½¿ç”¨æ–°æœåŠ¡ `semantic-repair-en-zh`**

---

## ğŸ“‹ æ­£ç¡®çš„å¤‡ä»½ä»£ç å¯åŠ¨æµç¨‹

### æ­¥éª¤1: ç¼–è¯‘ï¼ˆå·²å®Œæˆï¼‰

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm run build:main
```

âœ… **çŠ¶æ€**: ç¼–è¯‘æˆåŠŸ

---

### æ­¥éª¤2: å¯åŠ¨ä¸‰ç«¯æœåŠ¡

#### ç»ˆç«¯1: è°ƒåº¦æœåŠ¡å™¨

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\central_server\scheduler
cargo run --release
```

---

#### ç»ˆç«¯2: èŠ‚ç‚¹ç«¯

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start
```

**æ³¨æ„**: 
- æ—§çš„è¯­ä¹‰ä¿®å¤æœåŠ¡ä¼šè¢«è‡ªåŠ¨è·³è¿‡ï¼ˆå› ä¸ºå·²å¼ƒç”¨ï¼‰
- è¿™æ˜¯æ­£å¸¸çš„è¡Œä¸º

---

#### ç»ˆç«¯3: Webç«¯

```powershell
cd D:\Programs\github\lingua_1\expired\lingua_1-main\webapp\web-client
npm run dev
```

---

## âœ… ä¿®å¤æ€»ç»“

| é—®é¢˜ | åŸå›  | ä¿®å¤ | çŠ¶æ€ |
|------|------|------|------|
| **TypeScriptç¼–è¯‘é”™è¯¯** | ç¼ºå°‘path/fså¯¼å…¥ | æ·»åŠ å¯¼å…¥è¯­å¥ | âœ… å·²ä¿®å¤ |
| **è¯­ä¹‰ä¿®å¤æœåŠ¡é€€å‡º** | æœåŠ¡å·²å¼ƒç”¨ | ä½¿ç”¨æ–°æœåŠ¡æˆ–å¿½ç•¥ | âœ… æ­£å¸¸è¡Œä¸º |

---

## ğŸ¯ å…³äºè¯­ä¹‰ä¿®å¤æœåŠ¡

### æ—§æœåŠ¡ vs æ–°æœåŠ¡

**æ—§æœåŠ¡** (å·²å¼ƒç”¨):
- `semantic-repair-zh` (ä¸­æ–‡)
- `semantic-repair-en` (è‹±æ–‡)

**æ–°æœåŠ¡** (æ¨è):
- `semantic-repair-en-zh` (è‹±ä¸­åŒå‘ç»Ÿä¸€æœåŠ¡)

---

### ä¸ºä»€ä¹ˆæ—§æœåŠ¡ä¼šè‡ªåŠ¨é€€å‡ºï¼Ÿ

1. **service.jsonä¸­æ ‡è®°ä¸ºå¼ƒç”¨**
   ```json
   "enabled": false,
   "deprecated": true
   ```

2. **èŠ‚ç‚¹ç«¯ä¼šè‡ªåŠ¨è·³è¿‡å·²å¼ƒç”¨çš„æœåŠ¡**
   - è¿™æ˜¯æ­£å¸¸çš„è®¾è®¡
   - é¿å…å¯åŠ¨ä¸å†ç»´æŠ¤çš„æœåŠ¡

3. **å¦‚æœå°è¯•å¯åŠ¨ï¼ŒPythonè¿›å…¥äº¤äº’æ¨¡å¼**
   - å› ä¸ºå·¥ä½œç›®å½•é—®é¢˜
   - æ‰¾ä¸åˆ°æœåŠ¡è„šæœ¬

---

## ğŸ“Š å½“å‰çŠ¶æ€

### âœ… å¯ä»¥æ­£å¸¸ä½¿ç”¨

**å¤‡ä»½ä»£ç **:
- âœ… ç¼–è¯‘æˆåŠŸ
- âœ… å¯ä»¥å¯åŠ¨èŠ‚ç‚¹ç«¯
- âœ… å¯ä»¥å¯åŠ¨è°ƒåº¦æœåŠ¡å™¨
- âœ… å¯ä»¥å¯åŠ¨Webç«¯

**è¯­ä¹‰ä¿®å¤æœåŠ¡**:
- âš ï¸ æ—§æœåŠ¡è‡ªåŠ¨è·³è¿‡ï¼ˆæ­£å¸¸ï¼‰
- âœ… æ–°æœåŠ¡åœ¨ä¸»é¡¹ç›®servicesç›®å½•ä¸­å¯ç”¨

---

## ğŸ¯ ä¸‹ä¸€æ­¥

### å‡†å¤‡å¯åŠ¨æµ‹è¯•

**å‘½ä»¤**:

```powershell
# ç»ˆç«¯1
cd D:\Programs\github\lingua_1\expired\lingua_1-main\central_server\scheduler
cargo run --release

# ç»ˆç«¯2
cd D:\Programs\github\lingua_1\expired\lingua_1-main\electron_node\electron-node
npm start

# ç»ˆç«¯3
cd D:\Programs\github\lingua_1\expired\lingua_1-main\webapp\web-client
npm run dev
```

---

### å¦‚æœéœ€è¦è¯­ä¹‰ä¿®å¤åŠŸèƒ½

**å¯åŠ¨æ–°æœåŠ¡**:
```powershell
cd D:\Programs\github\lingua_1\electron_node\services\semantic_repair_en_zh
python service.py
```

**éªŒè¯**:
```powershell
Test-NetConnection localhost -Port 5014
```

---

## âš ï¸ é‡è¦æç¤º

### æœåŠ¡ç›®å½•æ˜¯å…±äº«çš„

**å¤‡ä»½ä»£ç å’Œå½“å‰ä»£ç å…±äº«åŒä¸€ä¸ªservicesç›®å½•**:
```
D:\Programs\github\lingua_1\electron_node\services\
```

**ä¼˜ç‚¹**:
- âœ… é¿å…é‡å¤å¤§å‹æ¨¡å‹ï¼ˆ2GB+ï¼‰
- âœ… ä¸¤å¥—ä»£ç éƒ½èƒ½ä½¿ç”¨æœ€æ–°çš„æœåŠ¡
- âœ… æœåŠ¡æ›´æ–°åªéœ€æ›´æ–°ä¸€å¤„

**ç¼ºç‚¹**:
- âš ï¸ å¦‚æœåŒæ—¶å¯åŠ¨ä¸¤å¥—ä»£ç ï¼Œç«¯å£å¯èƒ½å†²çª
- âš ï¸ éœ€è¦ç¡®ä¿ä¸»é¡¹ç›®servicesç›®å½•å®Œæ•´

---

## ğŸ’¡ æ€»ç»“

1. **ç¼–è¯‘é—®é¢˜** âœ… å·²ä¿®å¤
   - æ·»åŠ äº†ç¼ºå¤±çš„å¯¼å…¥

2. **è¯­ä¹‰ä¿®å¤æœåŠ¡é€€å‡º** âœ… æ­£å¸¸è¡Œä¸º
   - æ—§æœåŠ¡å·²å¼ƒç”¨
   - åº”è¯¥ä½¿ç”¨æ–°çš„ç»Ÿä¸€æœåŠ¡

3. **å¤‡ä»½ä»£ç å¯ä»¥æ­£å¸¸å¯åŠ¨** âœ…
   - ç¼–è¯‘é€šè¿‡
   - å¯ä»¥è¿è¡Œ

4. **å‡†å¤‡è¿›è¡Œé›†æˆæµ‹è¯•** ğŸš€
   - ä½¿ç”¨æä¾›çš„å¯åŠ¨å‘½ä»¤
   - è¿›è¡Œæ€§èƒ½å¯¹æ¯”

---

**å»ºè®®**: ç°åœ¨å¯ä»¥å¯åŠ¨å¤‡ä»½ä»£ç è¿›è¡Œé›†æˆæµ‹è¯•äº†ï¼
